<div class="wrap">
    <div class="slider container">
        <h1 class="slider__title">
            iPhone 11 Pro max
        </h1>
        <div class="slider__subtitle">
            Самый быстрый процессор iPhone. Профессио­нальные кадры.
        </div>
        <img src="../../../assets/images/slider/camera.jpg"
             alt="camera" class="slider__img slider__img_desktop">
        <img src="../../../assets/images/slider/camera-tb.jpg"
             alt="camera" class="slider__img slider__img_tablet">
        <img src="../../../assets/images/slider/camera-mb.jpg"
             alt="camera" class="slider__img slider__img_phone">
    </div>
</div>


<div class="goods container">
    <h2 class="goods__title">
        Популярные товары
    </h2>
    <div *ngIf="!loading; else loadingBlock1">
        <div class="goods__container">
            <app-product-card
                    *ngFor="let card of cards"
                    [card]="card"
                    (cardClick)="addToCart($event)"
            ></app-product-card>
        </div>
    </div>
</div>

<ng-template #loadingBlock1>
    <p>Loading...</p>
</ng-template>

<div *ngIf="!loading; else loadingBlock2">
    <div class="category category__container category_desktop">
        <section class="category__block"
             *ngFor="let category of categories"
             [ngStyle]="{
                background: category.background
             }"
        >
            <div class="category__content"
                 [ngStyle]="{
                    background: 'url(' + category.img + ') bottom right no-repeat',
                    backgroundSize: 'contain'
                    }"
            >
                <div class="category__inner-wrap">
                    <h4 class="category__title">{{ category.title }}</h4>
                    <div class="category__text">
                        {{ category.text }}
                    </div>
                    <div class="category__button">Выбрать</div>
                </div>
                <div class="category__price">от {{ category.price }} &#8381;</div>
            </div>
        </section>
    </div>
</div>

<div *ngIf="!loading; else loadingBlock2">
    <div class="category category__container category_phone">
        <section class="category__block"
             *ngFor="let category of categories"
             [ngStyle]="{
                background: category.background
             }"
        >
            <div class="category__content"
                 [ngStyle]="{
                    background: 'url(' + category.img + ') bottom right no-repeat',
                    backgroundSize: '210px'
                    }"
            >
                <div class="category__inner-wrap">
                    <h4 class="category__title">{{ category.title }}</h4>
                    <div class="category__text">
                        {{ category.text }}
                    </div>
                    <div class="category__button">Выбрать</div>
                </div>
                <div class="category__price">от {{ category.price }} &#8381;</div>
            </div>
        </section>
    </div>
</div>

<ng-template #loadingBlock2>
    <p>Loading...</p>
</ng-template>

<div class="goods container">
    <h2 class="goods__title">
        Новинки
    </h2>
    <div *ngIf="!loading; else loadingBlock3">
        <div class="goods__container">
            <app-product-card
                    *ngFor="let card of newCards"
                    [card]="card"
                    (onClick)="addToCart($event)"
            ></app-product-card>
        </div>
    </div>
</div>

<ng-template #loadingBlock3>
    <p>Loading...</p>
</ng-template>

<div class="gadgets container">
    <h2 class="gadgets__title">
        Гаджеты
    </h2>
    <div class="gadgets__container">
        <app-gadget-card
                *ngFor="let gadget of gadgets"
                [gadget]="gadget"
        ></app-gadget-card>
    </div>
</div>

<div class="goods container">
    <h2 class="goods__title">
        Недавно вы смотрели
    </h2>
    <div class="goods__container">
        <app-product-card
                *ngFor="let card of recentCards"
                [card]="card"
                (onClick)="addToCart($event)"
        ></app-product-card>
    </div>
</div>

<app-seo></app-seo>
